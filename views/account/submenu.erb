<aside class="py-6 lg:col-span-4 xl:col-span-3 2xl:col-span-2">
  <nav style="display: flex; flex-direction: column; gap: var(--spacing-1);">
    <% disallow_login_methods = rodauth.locked_domain_for(current_account.email)
      [
        ["Multifactor Auth", "/account/multifactor-manage", "hero-lock-closed"],
        ["Login Methods", "/account/login-method", "hero-finger-print", disallow_login_methods],
        ["#{rodauth.has_password? ? "Change" : "Create"} Password", "/account/change-password", "hero-key", disallow_login_methods],
        ["Change Email", "/account/change-login", "hero-envelope", disallow_login_methods],
        ["Close Account", "/account/close-account", "hero-x-circle"]
      ].each do |label, url, icon, disallowed| %>
      <% next if disallowed %>
      <% if request.path == url %>
        <a
          href="<%= url %>"
          class="group flex items-center px-3 py-2 text-sm font-medium"
          style="border-left: 4px solid var(--orange-600); background-color: var(--orange-50); color: var(--orange-600);"
          aria-current="page"
        >
          <%== part(
            "components/icon",
            name: icon,
            classes: "shrink-0",
            style: "color: var(--orange-600); margin-left: -0.25rem; margin-right: var(--spacing-3); width: 1.5rem; height: 1.5rem;"
          ) %>
          <span class="truncate"><%= label %></span>
        </a>
      <% else %>
        <a
          href="<%= url %>"
          class="group flex items-center px-3 py-2 text-sm font-medium text-gray-900 transition-colors"
          style="border-left: 4px solid transparent;"
        >
          <%== part("components/icon", name: icon, classes: "text-gray-400 group-transition-colors shrink-0", style: "margin-left: -0.25rem; margin-right: var(--spacing-3); width: 1.5rem; height: 1.5rem;") %>
          <span class="truncate"><%= label %></span>
        </a>
      <% end %>
    <% end %>
  </nav>
</aside>
