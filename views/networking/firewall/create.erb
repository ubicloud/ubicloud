<% @page_title = "Create Firewall" %>

<%== part(
  "components/page_header",
  breadcrumbs: [
    %w[Projects /project],
    [@project_data[:name], @project_data[:path]],
    ["Firewalls", "#{@project_data[:path]}/firewall"],
    %w[Create #]
  ]
) %>

<% form(@firewall, action: "#{@project_data[:path]}/firewall", method: "POST", id: "dependency-form", dependencies: "location") do |f| %>
  <% wrap_resource_form do %>
    <%== f.input(:name, placeholder: "Enter name", main_wrapper_class: "sm:col-span-2") %>
    <%== f.input(:description, required: false, placeholder: "Enter description", main_wrapper_class: "sm:col-span-2") %>
    <%== f.input(:location, as: :radio, required: true, options: Option.locations.map { [_1.ui_name, _1.id] }, provides: "location") %>
    <%== f.input(:select, obj: nil, key: :private_subnet_id, name: "private_subnet_id", label: "Private Subnet", main_wrapper_class: "sm:col-span-2", add_blank: "Select private subnet", selected: request.params["private_subnet_id"], options: @private_subnet_dataset.map { [_1.name, {value: _1.ubid, class: "depends-location #{_1.location_id}"}] }) %>
  <% end %>
<% end %>
