<% @page_title = "Projects" %>

<% if @projects.count > 0 %>
  <%== render(
    "components/page_header",
    locals: {
      right_items: [render("components/button", locals: { text: "Create Project", link: "/project/create" })]
    }
  ) %>

  <div class="grid gap-6">
    <%== render(
        "components/table_card",
        locals: {
          headers: ["Name"],
          rows: @projects.map do |p|
             [
               [
                 [p[:name], {link: p[:path] + "/dashboard"}]
               ],
               { id: "project-#{p[:id]}" }
             ]
          end
        }
      ) %>
  </div>
<% else %>
  <%== render(
    "components/empty_state",
    locals: {
      icon: "hero-folder-open",
      title: "No projects",
      description: "Get started by creating a new project.",
      button_link: "/project/create",
      button_title: "New Project"
    }
  ) %>
<% end %>
