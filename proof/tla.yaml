# tla.yaml â€” TLA+ proof assemblies for proof-tool
#
# Each proof specifies:
#   dir:     working directory for TLC
#   config:  TLC configuration file
#   sources: ordered list of input files (.tla and .rb)
#   configs: named constant overrides (e.g. proof/tla check -c quick NAME)

SubnetRekey:
  dir: proof/subnet_rekey
  config: proof/subnet_rekey/SubnetRekey.cfg
  sources:
    - proof/subnet_rekey/header.tla
    - model/metal/private_subnet.rb
    - prog/vnet/metal/subnet_nexus.rb
    - prog/vnet/metal/nic_nexus.rb
    - proof/subnet_rekey/spec.tla
  configs:
    2s4n:
      config: proof/subnet_rekey/SubnetRekey-2s4n.cfg
    3s5n:
      config: proof/subnet_rekey/SubnetRekey-3s5n.cfg
    3s6n:
      config: proof/subnet_rekey/SubnetRekey-3s6n.cfg
    3s9n:
      config: proof/subnet_rekey/SubnetRekey-3s9n.cfg
    4s8n:
      config: proof/subnet_rekey/SubnetRekey-4s8n.cfg
    5s8n:
      config: proof/subnet_rekey/SubnetRekey-5s8n.cfg
    6s4n:
      config: proof/subnet_rekey/SubnetRekey-6s4n.cfg
    8s10n:
      config: proof/subnet_rekey/SubnetRekey-8s10n.cfg
    liveness:
      config: proof/subnet_rekey/SubnetRekey-liveness.cfg

StrandSchedule:
  dir: proof/strand_schedule
  config: proof/strand_schedule/StrandSchedule.cfg
  sources:
    - proof/strand_schedule/StrandSchedule.tla
  configs:
    liveness:
      config: proof/strand_schedule/StrandSchedule-liveness.cfg

StrandBackoff:
  dir: proof/strand_backoff
  config: proof/strand_backoff/StrandBackoff.cfg
  sources:
    - proof/strand_backoff/header.tla
    - model/strand.rb
    - model/semaphore.rb
    - proof/strand_backoff/spec.tla
  configs:
    liveness:
      config: proof/strand_backoff/StrandBackoff-liveness.cfg
    signal:
      config: proof/strand_backoff/StrandBackoff-signal.cfg
